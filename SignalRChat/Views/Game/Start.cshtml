@model DominoesWithCompadres.Models.DominoGame

<div id="gameContainer">
    <div id="playerContiner">
        <ul data-bind="foreach: players" id="playerList">
            @*<li class="player" data-bind="text: DisplayName, css: { active: $index == $parent.playerInTurn() }">$index</li>*@
            <li class="player" data-bind="text: $index, css: { active: $index() == $parent.playerInTurn() }"></li>
        </ul>
        Player in turn <span data-bind="text: playerInTurn"></span>
    </div>

    <div>GameCode: <span data-bind="text: gameCode"></span></div>
    @*<div>State: <span data-bind="text: state"></span></div>*@

    <input type="hidden" id="gameCode" value="@Model.GameCode" />
    <input type="hidden" id="displayName" value="@ViewBag.DisplayName" />

    <div id="boardContainer">

        <div class="state selectReadyContainer">
            <input id="btnRoundReady" type="button" value="Ready" />
            <div class="readyInfoHidden">Waiting on other users... Please wait...</div>
        </div>

        <div class="state selectTileContainer">
            <div id="selectTiles" data-bind="foreach: availableTiles">
                <div class="tile" data-bind="attr: {'data-tileId' : id}">
                    <div class="tileHalf" data-bind="attr:{'data-value' : value1}, css: $parent.getWordNumbersFromValue($data.value1)"></div>
                    <div class="tileHalf" data-bind="attr:{'data-value' : value2}, css: $parent.getWordNumbersFromValue($data.value2)"></div>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
        
        <div class="state gameInProgress">
            <div class="myTileContainer" data-bind="foreach: myRoundTiles">
                <div class="tile" data-bind="attr: {'data-tileId' : id}, click: $parent.selectMyTile, css: $parent.getTilesDropClasses($data)">
                    <div class="tileHalf" data-bind="attr:{'data-value' : value1}, css: $parent.getWordNumbersFromValue($data.value1)"></div>
                    <div class="tileHalf" data-bind="attr:{'data-value' : value2}, css: $parent.getWordNumbersFromValue($data.value2)"></div>
                </div>
            </div>

            <div class="roundTileBoard" data-bind="foreach: playedTiles">
                <div class="tile" data-bind="attr: {'data-tileId' : id}, click: $parent.selectMyTile, css: $parent.getTilesDropClasses($data)">
                    <div class="tileHalf" data-bind="attr:{'data-value' : value1}, css: $parent.getWordNumbersFromValue($data.value1)"></div>
                    <div class="tileHalf" data-bind="attr:{'data-value' : value2}, css: $parent.getWordNumbersFromValue($data.value2)"></div>
                </div>
            </div>
            
        </div>
    </div>
</div>


@section scripts {

    <script src="~/Scripts/jquery.signalR-2.0.3.min.js"></script>
    <script src="~/Scripts/jquery-ui.js"></script>
    <script src="~/Scripts/knockout-3.2.0.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>
    <script src="~/Scripts/game.js"></script>
}